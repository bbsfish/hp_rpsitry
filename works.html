<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/com.css" />
  <link rel="stylesheet" href="./css/works.css" />
  <link rel="stylesheet" href="./css/header_mb.css" type="text/css" media="screen and (max-width: 768px)">
  <link rel="stylesheet" href="./css/header_dt.css" type="text/css" media="screen and (min-width: 769px)">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <title>Rumble Official > Works</title>
  <script>
    const offset = 6;
    window.addEventListener("load", ()=>{
      fetch(SRVURL+"/lib/goods.json")
        .then( response => response.json())
        .then( data => {
        // New Arrivals
          {
            const div = document.getElementById("div_goods_list");
            for (let i = data.length-1; i >= data.length - offset; i--) {
              let li = document.createElement("li");
              li.href = "./works.html";
              li.innerHTML = `<li><a><img src="./goods/${data[i].file}"></a>
                <p>
                  <span class="desc">${data[i].desc}</span>
                  <span class="price">${data[i].price.toLocaleString()}</span>
                </p>`;
              div.appendChild(li);
            }
          }
        });
      sessionStorage.setItem("v", 1);
    });
    function load_more() {
      let v = Number(sessionStorage.getItem("v"));
      fetch(SRVURL+"/lib/goods.json")
        .then( response => response.json())
        .then( data => {
        // New Arrivals
          {
            const div = document.getElementById("div_goods_list");
            // let b = Math.ceil(data.length / offset);
            let s = data.length - 1 - (offset * v);
            
            for (let i = s; i > s - offset; i--) {
              let li = document.createElement("li");
              li.href = "./works.html";
              li.innerHTML = `<li><a><img src="./goods/${data[i].file}"></a>
                <p>
                  <span class="desc">${data[i].desc}</span>
                  <span class="price">${data[i].price.toLocaleString()}</span>
                </p>`;
              div.appendChild(li);
            }
            // console.log(
            //   data.length,
            //   Math.ceil(data.length / offset),
            //   data.length%offset
            // );
            if (v+1==Math.ceil(data.length / offset)&&data.length%offset==1) {
              let li = document.createElement("li");
              li.href = "./works.html";
              li.innerHTML = `<li><a></a>
                <p>
                  <span class="desc">Don't miss it.</span>
                  <span class="price">0</span>
                </p>`;
              div.appendChild(li);
            }
            if (v+1==Math.ceil(data.length / offset)) {
              const e = document.getElementById("readmore_elem");
              e.style.display = "none";
            }
          }
        });
      sessionStorage.setItem("v", v+1);
    }
  </script>
</head>

<body>
  <!-- header -->
  <!-- %#HEADER% -->
  <header>
    <div class="header-nav">
      <h1 class="h-logo"><a href="./index.html"><span>Rumble</span></a></h1>
      <nav class="h-nav-list h-nav-list-center">
        <ul>
          <li class="h-nav-list-item"><a href="index.html#intro">intro</a></li>
          <li class="h-nav-list-item"><a href="index.html#highlights">highlights</a></li>
          <li class="h-nav-list-item"><a href="works.html" class="h-nav-list-active">works</a></li>
        </ul>
      </nav>
      <nav class="h-nav-list h-nav-list-right">
        <ul>
          <li class="h-nav-list-item"><a href="about.html">about</a></li>
        </ul>
      </nav>
      <!-- barger menu -->
      <div class="barger-menu">
        <!-- barger btn -->
        <label for="barger-menu-list" class="barger-menu-btn" id="barger-menu-btn"><span></span></label>
        <!-- barger list -->
        <div class="barger-menu-list" id="barger-menu-list">
          <ul>
            <li class="h-nav-list-item"><a href="index.html#intro">intro</a></li>
            <li class="h-nav-list-item"><a href="index.html#highlights">highlights</a></li>
            <li class="h-nav-list-item"><a href="works.html" class="h-nav-list-active">works</a></li>
            <li class="h-nav-list-item"><a href="about.html">about</a></li>
          </ul>
        </div>
      </div>
    </div>
  </header>
  <!-- %#HEADER_END% -->
  <!-- main -->
  <main>
    <!-- #intro -->
    <div class="m-header-hidden"></div>
    <section class="m-sections">
      <h2>WORKS</h2>
      <hr>
      <div class="img-gallery" id="div_goods_list">
        <script>
        </script>
      </div>
      <button type="button" id="readmore_elem" class="more_btn" onclick="load_more()">Watch more</button>
    </section>
  </main>
  <!-- footer -->
  <!-- %#FOOTER% -->
<footer>
  <nav class="f-nav-left">
    <h4>Abstract</h4>
    <ul class="f-list-unstyled">
      <li><a rel="nofollow" href="about.html#developpers">Developper</a></li>
    </ul>
  </nav>
  <nav class="f-nav-left">
    <h4>Details</h4>
    <ul class="f-list-unstyled">
      <li><a rel="nofollow" href="about.html#contactus">Contact Us</a></li>
    </ul>
  </nav>
  <nav class="f-nav-right">
    <h4>Follow</h4>
    <ul class="follow-me">
      <li><a href="https://twitter.com/PANMry_official" id="twttr"></a></li>
      <li><a href="https://www.instagram.com/panmry__/" id="insta"></a></li>
      <li><a href="https://youtube.com/@geruzlife" id="youtube"></a></li>
    </ul>
  </nav>
</footer>
  <!-- %#FOOTER_END% -->
  <script src="./js/main.js"></script>
</body>
</html>